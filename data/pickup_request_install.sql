DROP TABLE IF EXISTS pickup_requests;
CREATE TABLE IF NOT EXISTS pickup_requests (
  id                       INT(11) PRIMARY KEY  AUTO_INCREMENT NOT NULL,
  pickup_name              VARCHAR(255)                        NOT NULL,
  pickup_address           VARCHAR(255)                        NOT NULL,
  pickup_phone_number      VARCHAR(100)                        NOT NULL,
  pickup_state_id          INT(11)                             NOT NULL,
  pickup_city_id           INT(11)                             NOT NULL,
  destination_name         VARCHAR(255)                        NOT NULL,
  destination_address      VARCHAR(255)                        NOT NULL,
  destination_phone_number VARCHAR(100)                        NOT NULL,
  destination_state_id     INT(11)                             NOT NULL,
  destination_city_id      INT(11)                             NOT NULL,
  shipment_description     TEXT        DEFAULT NULL,
  request_detail           TEXT        DEFAULT NULL,
  status                   VARCHAR(50) DEFAULT 'pending',
  created_by               INT(11)                             NOT NULL,
  KEY k_pr_pickup_name (pickup_name),
  KEY k_pr_pickup_phone_number (pickup_phone_number),
  KEY k_pr_pickup_state_id (pickup_state_id),
  KEY k_pr_pickup_city_id (pickup_city_id),
  KEY k_pr_destination_name (destination_name),
  KEY k_pr_destination_phone_number (destination_phone_number),
  KEY k_pr_destination_state_id (destination_state_id),
  KEY k_pr_destination_city_id (destination_city_id),
  KEY k_pr_status (status),
  KEY k_pr_created_by (created_by),
  CONSTRAINT FOREIGN KEY fk_pickup_requests_pickup_state_id (pickup_state_id) REFERENCES state (id),
  CONSTRAINT FOREIGN KEY fk_pickup_requests_pickup_city_id (pickup_city_id) REFERENCES city (id),
  CONSTRAINT FOREIGN KEY fk_destination_requests_destination_state_id (destination_state_id) REFERENCES state (id),
  CONSTRAINT FOREIGN KEY fk_destination_requests_destination_city_id (destination_city_id) REFERENCES city (id),
  CONSTRAINT FOREIGN KEY fk_shipment_requests_company_user_created_by (created_by) REFERENCES company_user (id)
);